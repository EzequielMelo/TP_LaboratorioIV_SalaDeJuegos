<div
  class="flex min-h-screen bg-[conic-gradient(at_bottom_right,_var(--tw-gradient-stops))] from-blue-700 via-blue-800 to-gray-900">
  <div class="flex items-center justify-center mx-auto h-auto lg:py-0 w-full">
    <div
      class="flex flex-col bg-teal-800 justify-center items-center w-11/12 sm:w-11/12 md:w-2/3 min-h-[70vh] md:h-[70vh] z-51 shadow-lg rounded-md bg-game">

      @if (!start && !gameOver) {
      <button (click)="startGame()" class="bg-green-600 p-3 rounded-md text-white">Iniciar</button>
      }

      @if (start && !gameOver && !currentQuestion) {
      <div
        class="flex flex-col max-w-[65%] min-w-[95%] md:min-w-[65%] items-center bg-slate-900 bg-opacity-40 rounded-xl menu {{ currentQuestion ? 'hidden' : '' }}">
        <div class="max-w-[93%] min-w-[93%] md:min-w-[80%]">
          <img src="preguntados-personajes.png" alt="">
          <h2 class="text-white text-2xl mb-4">Selecciona una categoría:</h2>
          <div class="flex flex-col mb-4">
            @for (category of categories; track $index) {
            <button (click)="selectCategory(category.category)"
              class="bg-white p-4 md:p-3 rounded-md text-black hover:scale-105 transform transition duration-300 mb-2">
              {{ category.title }}
            </button>
            }
          </div>
        </div>
      </div>
      }

      @if (start && !roundOver && receivedData.questions && receivedData.questions.length > 0) {
      <div
        class="flex flex-col max-w-[65%] min-w-[95%] md:min-w-[65%] items-center bg-slate-900 bg-opacity-40 rounded-xl">
        <div class="max-w-[93%] min-w-[93%] md:min-w-[80%] flex flex-col mb-4">
          <div class="flex flex-col w-full rounded-xl bg-white mb-4 my-4">
            <div class="flex w-full justify-between">
              <p class="text-xl md:text-base text-black text-center ml-4">
                <strong>Correctas: {{correctAnswers}}</strong>
              </p>
              @switch (lives) {
              @case (3) {
              <p class="text-base md:text-xl text-black text-center mr-4"><strong>❤️❤️❤️</strong></p>
              }
              @case (2) {
              <p class="text-xl md:text-base text-black text-center mr-4"><strong>❤️❤️</strong></p>
              }
              @default {
              <p class="text-xl md:text-base text-black text-center mr-4"><strong>❤️</strong></p>
              }
              }
            </div>
            <h2 class="text-black text-2xl my-6 text-center items-center p-3">{{ currentQuestion?.question }}</h2>
          </div>
          @for (answer of answers; track $index) {
          <button (click)="checkAnswer(answer)"
            class="bg-white p-3 rounded-md text-black hover:scale-105 transform transition duration-300 mb-2">{{ answer
            }}</button>
          }
        </div>
      </div>
      }

      @if (roundOver) {
      <div
        class="flex flex-col max-w-[65%] min-w-[95%] md:min-w-[65%] items-center bg-slate-900 bg-opacity-40 rounded-xl">
        <div class="max-w-[93%] min-w-[93%] md:min-w-[80%] flex flex-col mb-4">
          <div class="flex flex-col w-full rounded-xl bg-white mb-4 my-4">
            <div class="flex w-full justify-between">
              <p class="text-xl md:text-base text-black text-center ml-4">
                <strong>Correctas: {{correctAnswers}}</strong>
              </p>
              @switch (lives) {
              @case (3) {
              <p class="text-base md:text-xl text-black text-center mr-4"><strong>❤️❤️❤️</strong></p>
              }
              @case (2) {
              <p class="text-xl md:text-base text-black text-center mr-4"><strong>❤️❤️</strong></p>
              }
              @case (1) {
              <p class="text-xl md:text-base text-black text-center mr-4"><strong>❤️</strong></p>
              }
              @default {
              <p class="text-xl md:text-base text-red-600 text-center mr-4"><strong>Sin vidas</strong></p>
              }
              }
            </div>
            @if (lives === 0) {
            <h2 class="text-red-600 text-2xl my-6 text-center items-center p-3">¡Juego terminado!</h2>
            }@else {
            <h2 class="text-green-500 text-2xl my-6 text-center items-center p-3">¡Ronda terminada!<br>Selecciona una
              nueva categoría:</h2>
            }
          </div>
          @for (category of categories; track $index) {
          <button (click)="selectCategory(category.category)"
            class="bg-white p-3 rounded-md text-black hover:scale-105 transform transition duration-300 mb-2">
            {{ category.title }}
          </button>
          }
        </div>
      </div>
      }

    </div>
  </div>
</div>